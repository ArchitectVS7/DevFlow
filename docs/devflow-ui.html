<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>DevFlow PRD Studio</title>
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Space+Grotesk:wght@400;500;600;700&display=swap"
      rel="stylesheet"
    />
    <script src="https://cdn.jsdelivr.net/npm/marked/marked.min.js"></script>
    <style>
      :root {
        color-scheme: dark;
        --bg: radial-gradient(circle at 20% 20%, #162347 0, transparent 35%),
          radial-gradient(circle at 80% 0%, #1b5fc3 0, transparent 25%),
          radial-gradient(circle at 50% 80%, #5c25f2 0, transparent 30%),
          #060912;
        --panel: rgba(255, 255, 255, 0.06);
        --panel-strong: rgba(255, 255, 255, 0.08);
        --border: rgba(255, 255, 255, 0.14);
        --accent: #7ce7ff;
        --accent-2: #9b7bff;
        --text: #eaf3ff;
        --muted: #b6c4e3;
      }

      * {
        box-sizing: border-box;
      }

      body {
        margin: 0;
        font-family: "Space Grotesk", system-ui, -apple-system, sans-serif;
        background: var(--bg);
        color: var(--text);
        min-height: 100vh;
        padding: 24px;
      }

      .grid {
        display: grid;
        grid-template-columns: 320px 1fr;
        gap: 24px;
        max-width: 1280px;
        margin: 0 auto;
      }

      header {
        max-width: 1280px;
        margin: 0 auto 20px;
        display: flex;
        align-items: center;
        justify-content: space-between;
        gap: 16px;
      }

      .logo {
        display: flex;
        align-items: center;
        gap: 12px;
      }

      .orb {
        width: 48px;
        height: 48px;
        background: linear-gradient(135deg, #8defff, #d9a7ff);
        border-radius: 16px;
        box-shadow: 0 15px 35px rgba(145, 216, 255, 0.45);
        position: relative;
        overflow: hidden;
      }

      .orb::after {
        content: "";
        position: absolute;
        inset: 6px;
        border-radius: 12px;
        background: radial-gradient(circle at 30% 30%, #fff, transparent 55%);
        opacity: 0.65;
      }

      .title {
        font-size: 28px;
        font-weight: 700;
        letter-spacing: -0.03em;
      }

      .subtitle {
        margin-top: 4px;
        color: var(--muted);
      }

      .badge {
        padding: 8px 14px;
        border-radius: 999px;
        border: 1px solid var(--border);
        background: linear-gradient(120deg, rgba(124, 231, 255, 0.12), rgba(155, 123, 255, 0.12));
        color: var(--text);
        font-weight: 600;
      }

      .panel {
        background: var(--panel);
        border: 1px solid var(--border);
        border-radius: 18px;
        padding: 18px;
        box-shadow: 0 16px 50px rgba(0, 0, 0, 0.35);
        backdrop-filter: blur(12px);
      }

      .control-panel h2,
      .workspace h2 {
        margin: 0 0 8px;
        font-size: 18px;
      }

      .control-panel .hint {
        color: var(--muted);
        font-size: 14px;
        margin-bottom: 12px;
      }

      .input-group {
        display: flex;
        flex-direction: column;
        gap: 8px;
        margin-bottom: 14px;
      }

      label {
        font-weight: 600;
        color: var(--muted);
      }

      input,
      textarea,
      select {
        width: 100%;
        background: var(--panel-strong);
        border: 1px solid var(--border);
        border-radius: 12px;
        padding: 12px;
        color: var(--text);
        font-size: 14px;
        outline: none;
        transition: border 0.2s ease, box-shadow 0.2s ease;
      }

      input:focus,
      textarea:focus,
      select:focus {
        border-color: var(--accent);
        box-shadow: 0 0 0 3px rgba(124, 231, 255, 0.18);
      }

      textarea {
        min-height: 110px;
        resize: vertical;
      }

      .btn {
        background: linear-gradient(135deg, #7ce7ff, #9b7bff);
        color: #061022;
        font-weight: 700;
        border: none;
        border-radius: 12px;
        padding: 12px 14px;
        cursor: pointer;
        width: 100%;
        box-shadow: 0 14px 35px rgba(124, 231, 255, 0.35);
        transition: transform 0.15s ease, box-shadow 0.15s ease;
      }

      .btn:hover {
        transform: translateY(-1px);
        box-shadow: 0 18px 45px rgba(155, 123, 255, 0.4);
      }

      .workspace {
        display: grid;
        grid-template-columns: 1fr 1fr;
        gap: 16px;
      }

      .stacked {
        display: flex;
        flex-direction: column;
        gap: 12px;
      }

      .section-card {
        background: linear-gradient(160deg, rgba(124, 231, 255, 0.08), rgba(155, 123, 255, 0.08));
        border: 1px solid var(--border);
        border-radius: 16px;
        padding: 14px;
      }

      .section-card header {
        display: flex;
        justify-content: space-between;
        align-items: center;
        margin: 0 0 8px;
      }

      .section-card h3 {
        margin: 0;
        font-size: 16px;
      }

      .pill {
        padding: 6px 10px;
        border-radius: 999px;
        background: rgba(255, 255, 255, 0.08);
        color: var(--muted);
        font-size: 12px;
      }

      .preview {
        background: rgba(0, 0, 0, 0.2);
        border-radius: 14px;
        padding: 12px;
        max-height: 600px;
        overflow: auto;
        border: 1px solid var(--border);
      }

      .live-preview h4 {
        margin: 0 0 6px;
      }

      .chip-row {
        display: flex;
        gap: 8px;
        flex-wrap: wrap;
        margin: 8px 0 12px;
      }

      .chip {
        padding: 8px 12px;
        background: var(--panel-strong);
        border-radius: 10px;
        border: 1px solid var(--border);
        font-weight: 600;
        color: var(--muted);
      }

      .coming-soon {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(220px, 1fr));
        gap: 12px;
      }

      .coming-card {
        background: rgba(255, 255, 255, 0.04);
        border: 1px dashed rgba(255, 255, 255, 0.2);
        border-radius: 14px;
        padding: 12px;
      }

      .coming-card h4 {
        margin: 0 0 6px;
      }

      .status-dot {
        width: 10px;
        height: 10px;
        border-radius: 50%;
        background: #4cffb0;
        margin-right: 8px;
        box-shadow: 0 0 16px rgba(76, 255, 176, 0.6);
      }

      .status {
        display: inline-flex;
        align-items: center;
        gap: 8px;
        color: var(--muted);
        font-weight: 600;
      }

      @media (max-width: 1100px) {
        .grid {
          grid-template-columns: 1fr;
        }

        .workspace {
          grid-template-columns: 1fr;
        }
      }
    </style>
  </head>
  <body>
    <header>
      <div class="logo">
        <div class="orb"></div>
        <div>
          <div class="title">DevFlow PRD Studio</div>
          <div class="subtitle">Realtime PRD co-creation for Claude Code</div>
        </div>
      </div>
      <div class="badge">Live Sandbox</div>
    </header>

    <div class="grid">
      <aside class="panel control-panel">
        <h2>Send intents to DevFlow</h2>
        <p class="hint">
          Sketch requirements, map PRD sections, and stream Markdown back from DevFlow.
        </p>

        <div class="input-group">
          <label for="product-name">Product / stream name</label>
          <input id="product-name" type="text" value="Nebula HUD" />
        </div>

        <div class="input-group">
          <label for="goal">What are we building?</label>
          <textarea id="goal" placeholder="Describe the feature you want Claude Code + DevFlow to tackle">
High-clarity PRD for a multi-tenant analytics cockpit
with AI-generated swimlanes and stakeholder-specific dashboards.</textarea
          >
        </div>

        <div class="input-group">
          <label for="mode">Guidance level</label>
          <select id="mode">
            <option value="partner">Partner mode (recommended)</option>
            <option value="advisor">Advisor mode</option>
            <option value="scribe">Scribe only</option>
          </select>
        </div>

        <button class="btn" id="push-btn">Send to DevFlow</button>

        <div class="chip-row">
          <div class="chip">Claude Code Streaming</div>
          <div class="chip">PRD Templates</div>
          <div class="chip">AI Traceability</div>
        </div>

        <div class="status" id="status-line">
          <div class="status-dot"></div>
          Ready to sync with DevFlow runtime
        </div>
      </aside>

      <main class="panel workspace">
        <section class="stacked">
          <div>
            <h2>Sections</h2>
            <div id="sections"></div>
          </div>

          <div class="panel">
            <h3>Capture a new section</h3>
            <div class="input-group">
              <label for="section-title">Section title</label>
              <input id="section-title" type="text" placeholder="Example: User Value" />
            </div>
            <div class="input-group">
              <label for="section-body">Markdown body</label>
              <textarea id="section-body" placeholder="Use Markdown to outline the PRD block"></textarea>
            </div>
            <button class="btn" id="add-section">Add to PRD</button>
          </div>

          <div class="panel">
            <h3>Coming soon</h3>
            <p class="hint">Ideas queued for the next DevFlow drop.</p>
            <div class="coming-soon">
              <div class="coming-card">
                <h4>Live CLA feedback</h4>
                <p>Stream Claude Code line-by-line explanations alongside generated PRD deltas.</p>
              </div>
              <div class="coming-card">
                <h4>Project sync</h4>
                <p>Two-way sync with GitHub Projects + linear task fibers from PRD sections.</p>
              </div>
              <div class="coming-card">
                <h4>Stakeholder modes</h4>
                <p>Auto-tailor the PRD for exec, design, and engineering audiences simultaneously.</p>
              </div>
              <div class="coming-card">
                <h4>Prompt heatmaps</h4>
                <p>Visualize which prompts drive the strongest downstream implementation quality.</p>
              </div>
            </div>
          </div>
        </section>

        <section class="stacked live-preview">
          <div>
            <h2>Live preview</h2>
            <p class="hint">Markdown → rendered PRD, updated per keystroke.</p>
            <div class="preview" id="preview"></div>
          </div>
          <div class="panel">
            <h3>Execution trace</h3>
            <p class="hint">Transparent signals coming back from DevFlow.</p>
            <div class="chip-row" id="logs"></div>
          </div>
        </section>
      </main>
    </div>

    <script>
      const sectionsEl = document.getElementById("sections");
      const previewEl = document.getElementById("preview");
      const logsEl = document.getElementById("logs");
      const pushBtn = document.getElementById("push-btn");

      const state = {
        sections: [
          {
            title: "Vision",
            body: "- An adaptive cockpit that composes PRDs from conversational intents\n- Built-in Claude Code guardrails for scope, risk, and success metrics",
          },
          {
            title: "Key Outcomes",
            body: "1. A markdown PRD that stays in lockstep with engineering updates\n2. Role-aware views that compress context without losing detail\n3. Flow time reduction across discovery → delivery",
          },
          {
            title: "Guardrails",
            body: "- Non-functional requirements captured early\n- Drift detection between PRD and repo activity\n- Stakeholder approvals logged in-line",
          },
        ],
      };

      function renderSections() {
        sectionsEl.innerHTML = "";
        state.sections.forEach((section, idx) => {
          const card = document.createElement("div");
          card.className = "section-card";
          card.innerHTML = `
            <header>
              <h3>${section.title}</h3>
              <div class="pill">#${idx + 1}</div>
            </header>
            <div class="body">${section.body.replace(/\n/g, "<br>")}</div>
          `;
          sectionsEl.appendChild(card);
        });
        renderPreview();
      }

      function renderPreview() {
        const markdown = state.sections
          .map((s) => `## ${s.title}\n\n${s.body}`)
          .join("\n\n");
        previewEl.innerHTML = marked.parse(markdown);
      }

      function log(message) {
        const chip = document.createElement("div");
        chip.className = "chip";
        chip.textContent = message;
        logsEl.prepend(chip);
        const chips = Array.from(logsEl.children);
        if (chips.length > 6) chips.pop().remove();
      }

      document.getElementById("add-section").addEventListener("click", () => {
        const title = document.getElementById("section-title").value.trim();
        const body = document.getElementById("section-body").value.trim();
        if (!title || !body) {
          log("Add a title and body to stream the section.");
          return;
        }
        state.sections.push({ title, body });
        renderSections();
        document.getElementById("section-title").value = "";
        document.getElementById("section-body").value = "";
        log(`Section \"${title}\" queued for DevFlow.`);
      });

      pushBtn.addEventListener("click", () => {
        pushBtn.textContent = "Streaming to DevFlow...";
        pushBtn.disabled = true;
        log("Connecting to Claude Code session...");
        setTimeout(() => log("Streaming PRD markdown back..."), 800);
        setTimeout(() => log("Trace linked to Git metadata."), 1400);
        setTimeout(() => {
          pushBtn.textContent = "Send to DevFlow";
          pushBtn.disabled = false;
          log("Sync complete.");
        }, 2100);
      });

      renderSections();
      log("Ready for the next prompt.");
    </script>
  </body>
</html>
